# OneLapåˆ°å¤šå¹³å°æ•°æ®åŒæ­¥å·¥å…·

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

ä» OneLap (é¡½é¹¿) å¹³å°ä¸‹è½½è¿åŠ¨æ•°æ®ï¼ŒåŒæ­¥åˆ°å¤šä¸ªå¹³å°ï¼š
- âœ… è¡Œè€… (XOSS)
- âœ… æ·å®‰ç‰¹éª‘è¡Œ (Giant)
- âœ… iGPSport

## ğŸ‰ æ–°å¢åŠŸèƒ½ï¼šiGPSport â†’ OneLap åå‘å¢é‡åŒæ­¥

### åŠŸèƒ½è¯´æ˜

å°† iGPSport ä¸­æ¯” OneLap æ–°çš„éª‘è¡Œè®°å½•è‡ªåŠ¨åŒæ­¥åˆ° OneLapã€‚

**é€‚ç”¨åœºæ™¯**ï¼šå½“æ‚¨çš„ iGPSport è®°å½•æ¯” OneLap å¤šæ—¶ï¼Œä½¿ç”¨æ­¤åŠŸèƒ½è¡¥å½•æ•°æ®ã€‚

### ä¸ä¼ ç»Ÿæ–¹å¼å¯¹æ¯”

| æ–¹å¼ | å¤„ç†180æ¡è®°å½• | é€Ÿåº¦ |
|------|---------------|------|
| ä¼ ç»Ÿå…¨é‡åŒæ­¥ | æ¯æ¬¡å¤„ç†180æ¡ | çº¦5åˆ†é’Ÿ |
| **æ–°å¢å¢é‡åŒæ­¥** | åªå¤„ç†3æ¡æ–°è®°å½• | **çº¦15ç§’** |

### é…ç½®æ–¹æ³•

åœ¨ `settings.ini` ä¸­æ·»åŠ é…ç½®ï¼š

```ini
[igpsport_to_onelap]
# æ˜¯å¦å¯ç”¨åå‘åŒæ­¥
eable = false    # true=å¯ç”¨, false=ç¦ç”¨(é»˜è®¤)

# åŒæ­¥æ¨¡å¼
mode = auto      # auto=å¢é‡(æ¨è), full=å…¨é‡

# æ¯”å¯¹ç­–ç•¥
strategy = time_based  # åŸºäºæ—¶é—´æˆ³æ¯”å¯¹
```

### é…ç½®é¡¹è¯¦è§£

| é…ç½®é¡¹ | å¯é€‰å€¼ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|--------|------|
| `enable` | `true`/`false` | `false` | åŠŸèƒ½å¼€å…³ |
| `mode` | `auto`/`full` | `auto` | åŒæ­¥æ¨¡å¼ |
| `strategy` | `time_based` | `time_based` | æ¯”å¯¹ç­–ç•¥ |

#### åŒæ­¥æ¨¡å¼

- **autoï¼ˆæ™ºèƒ½å¢é‡æ¨¡å¼ï¼‰**ï¼šè‡ªåŠ¨æ£€æµ‹ iGPSport ä¸­ OneLap æ²¡æœ‰çš„æ–°è®°å½•ï¼ŒåªåŒæ­¥è¿™äº›
- **fullï¼ˆå…¨é‡æ¨¡å¼ï¼‰**ï¼šåŒæ­¥ iGPSport ä¸­æ‰€æœ‰è®°å½•

**å»ºè®®**ï¼šæ—¥å¸¸ä½¿ç”¨ `auto` æ¨¡å¼ï¼Œå³ä½¿ OneLap ä¸ºç©ºä¹Ÿä¼šè‡ªåŠ¨å…¨é‡åŒæ­¥ã€‚

### ä½¿ç”¨æ–¹æ³•

```bash
# 1. å¼€å¯åå‘åŒæ­¥ï¼ˆç¼–è¾‘ settings.iniï¼‰
# [igpsport_to_onelap]
# enable = true
# mode = auto

# 2. è¿è¡Œç¨‹åº
python3 SyncOnelapToXoss.py
```

ç¨‹åºä¼šè‡ªåŠ¨ï¼š
1. æ‰§è¡ŒåŸæœ‰é€»è¾‘ï¼ˆOneLap â†’ è¡Œè€…/æ·å®‰ç‰¹/iGPSportï¼‰
2. æ‰§è¡Œæ–°å¢é€»è¾‘ï¼ˆiGPSport â†’ OneLap å¢é‡åŒæ­¥ï¼‰

### å·¥ä½œæµç¨‹

```
ç¨‹åºå¯åŠ¨
    â”‚
    â”œâ”€â”€ æ­¥éª¤1-7: åŸæœ‰é€»è¾‘ï¼ˆOneLap â†’ è¡Œè€…/æ·å®‰ç‰¹/iGPSportï¼‰
    â”‚
    â””â”€â”€ æ­¥éª¤8: æ–°å¢é€»è¾‘ï¼ˆiGPSport â†’ OneLap å¢é‡åŒæ­¥ï¼‰
            â”‚
            â”œâ”€â”€ ç™»å½• iGPSportï¼ˆAPIæ–¹å¼ï¼‰
            â”œâ”€â”€ è·å–æ‰€æœ‰è®°å½•ï¼ˆ180æ¡ï¼‰
            â”œâ”€â”€ ç™»å½• OneLapï¼ˆæµè§ˆå™¨æ–¹å¼ï¼‰
            â”œâ”€â”€ è·å–æœ€æ–°è®°å½•æ—¶é—´
            â”œâ”€â”€ ç­›é€‰å¢é‡è®°å½•ï¼ˆæ—¶é—´ > OneLapæœ€æ–°æ—¶é—´ï¼‰
            â”œâ”€â”€ ä¸‹è½½å¢é‡æ–‡ä»¶
            â””â”€â”€ æ‰¹é‡ä¸Šä¼ åˆ° OneLap
```

### è¾“å‡ºç¤ºä¾‹

```
ğŸš´ iGPSport â†’ OneLap å¢é‡åŒæ­¥
==========================================
ğŸ“Š å‘ç°å¢é‡: 3 æ¡æ–°è®°å½•
   â”œâ”€ 2026-02-05 - 2.3km
   â”œâ”€ 2026-02-02 - 20.5km
   â””â”€ 2026-02-02 - 13.0km

â¬‡ï¸  ä¸‹è½½å®Œæˆ: 231 KB
â¬†ï¸  ä¸Šä¼ å®Œæˆ: 3/3

âœ… åŒæ­¥æˆåŠŸï¼è€—æ—¶ 15 ç§’
==========================================
```

## ğŸ“‹ åŸºæœ¬ä½¿ç”¨æ–¹æ³•

1. å¤åˆ¶é…ç½®ç¤ºä¾‹ï¼š
   ```bash
   cp settings.ini.example settings.ini
   ```

2. ç¼–è¾‘ `settings.ini` é…ç½®å„å¹³å°è´¦å·å¯†ç 

3. è¿è¡Œç¨‹åºï¼š
   ```bash
   python3 SyncOnelapToXoss.py
   ```

## âš™ï¸ é…ç½®è¯´æ˜

ç¼–è¾‘ `settings.ini`ï¼š

```ini
[onelap]
username = 13800138000    # OneLapè´¦å·ï¼ˆæ•°æ®æºï¼‰
password = your_password

[xoss]
username = 13800138000    # è¡Œè€…è´¦å·
password = your_password

[giant]
username = 13800138000    # æ·å®‰ç‰¹è´¦å·
password = your_password
enable_sync = false       # æ˜¯å¦å¯ç”¨æ·å®‰ç‰¹åŒæ­¥

[igpsport]
username = 13800138000    # iGPSportè´¦å·
password = your_password
enable_sync = false       # æ˜¯å¦å¯ç”¨iGPSportåŒæ­¥ï¼ˆä¸»ç¨‹åºæ–¹å‘ï¼‰

[sync]
storage_dir = ./downloads
supported_formats = .fit,.gpx,.tcx
max_file_size_mb = 50
max_files_per_batch = 5

[igpsport_to_onelap]
enable = false            # åå‘åŒæ­¥å¼€å…³
mode = auto               # åŒæ­¥æ¨¡å¼
```

## ğŸ”’ å®‰å…¨è¯´æ˜

- `settings.ini` åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œ**è¯·å‹¿æäº¤åˆ° Git**
- å·²æ·»åŠ åˆ° `.gitignore`ï¼Œä¸ä¼šè¢«åŒ…å«åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­
- æä¾› `settings.ini.example` ä½œä¸ºé…ç½®æ¨¡æ¿

## ğŸ’» ç³»ç»Ÿè¦æ±‚

- Python 3.7+
- Chrome/Chromium æµè§ˆå™¨
- Linux/macOS/Windows

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

## ğŸ“ ç‰ˆæœ¬å†å²

### v2.0.0 (2026-02-08)
- âœ… æ–°å¢ iGPSport â†’ OneLap åå‘å¢é‡åŒæ­¥åŠŸèƒ½
- âœ… æ™ºèƒ½å¢é‡æ£€æµ‹ï¼ŒåªåŒæ­¥æ–°æ•°æ®
- âœ… æ‰¹é‡ä¸Šä¼ ä¼˜åŒ–
- âœ… å®Œå–„æ–‡æ¡£è¯´æ˜

### v1.2.0
- âœ… æ–°å¢ iGPSport å¹³å°æ”¯æŒ

### v1.0.0
- âœ… åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒ OneLap â†’ è¡Œè€…/æ·å®‰ç‰¹

## ğŸ™ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡ä½¿ç”¨å»ºè®®æµ‹è¯•**ï¼šå…ˆå¼€å¯é¢„è§ˆæ¨¡å¼ç¡®è®¤å¢é‡æ•°é‡
2. **å®šæœŸåŒæ­¥**ï¼šå»ºè®®æ¯å‘¨è¿è¡Œä¸€æ¬¡ï¼Œä¿æŒæ•°æ®åŒæ­¥
3. **è´¦å·å®‰å…¨**ï¼šsettings.ini åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å‹¿åˆ†äº«

---

**Enjoy your ride! ğŸš´â€â™‚ï¸**
